require('fs').readFile('./input.txt', 'utf8', (_, c) =>
    console.log(((m, I, O) => (
      ((x, i) => { while((i = x(i)) > 0) 0 })(i =>
          ((c, p) => ({
            '1': () => (m[m[i+3]] = p(1) + p(2), i+4),
            '2': () => (m[m[i+3]] = p(1) * p(2), i+4),
            '3': () => (m[m[i+1]] = I.pop(), i+2),
            '4': () => (O.push(p(1)), i+2),
            '5': () => (p(1) !== 0 ? p(2) : i+2),
            '6': () => (p(1) === 0 ? p(2) : i+2),
            '7': () => (m[m[i+3]] = +(p(1) < p(2)), i+4),
            '8': () => (m[m[i+3]] = +(p(1) === p(2)), i+4),
            '99': () => -1,
          }[c]()))(m[i] % 100, (n) => m[i] % 10**(n+2) > 10**(n+1) ? m[i+n] : m[m[i+n]]
          ), 0
    ), O))(c.split(',').map(n => +n), [1], [])))
